.product {
  @include adaptiveValue(padding-top, 60, 20, 1920, 360, 1);

  &__border-link {
    @include adaptiveValue(margin-bottom, 40, 20, 1920, 360, 1);
  }

  //  product item styles
  &__item {
    @include adaptiveValue(padding-top, 30, 20, 1920, 992, 1);
    @include adaptiveValue(padding-bottom, 60, 30, 1920, 375, 1);
    @include adaptiveValue(padding-right, 30, 10, 1920, 375, 1);
    @include adaptiveValue(padding-left, 30, 10, 1920, 375, 1);

    border-radius: var(--radius-primary);
    box-shadow: var(--boxshadow-primary);
  }

  //  product item inner layout
  &__inner {
    @include adaptiveValue(column-gap, 40, 20, 1920, 992, 1);
    @include adaptiveValue(row-gap, 40, 20, 1920, 360, 1);

    display: grid;
    grid-auto-rows: min-content;
    grid-template-columns: 1fr 1fr;

    @media screen and (max-width: $md) {
      grid-template-columns: 100%;
    }
  }

  //  product item image using padding hack
  &__img {
    padding-bottom: 83%;
    width: 100%;

    @media screen and (max-width: $md) {
      padding-bottom: 65%;
    }
  }

  //  product sliders wrapper
  &__slider {
    display: flex;
    column-gap: rem(50);
    align-items: center;
    align-self: start;
    grid-row: 1/5;

    @media screen and (max-width: $md) {
      flex-direction: column-reverse;
      grid-row: unset;
    }
  }

  //  product big slider
  &__main-slider {
    flex: 0 1 80%;
    width: 100%;
  }

  //  product thumbnail slider
  &__thumbnail-slider {
    .splide__track--nav > .splide__list > .splide__slide {
      border: 1px solid transparent;
      transition: 0.2s border ease;

      &.is-active {
        border: 1px solid var(--text-secondary);
      }
    }

    .product__img {
      height: 100%;
    }
  }

  //  product info styles, including title, state and code
  &__info {
    display: grid;
    align-items: center;
    grid-template-columns: 1fr 1fr;
    gap: rem(30);

    @media screen and (max-width: $md) {
      grid-row: 1/2;
    }
  }

  // product title
  &__title {
    @include adaptiveValue(font-size, 36, 18, 1920, 360, 1);

    grid-column: span 2;
    max-width: rem(605);
    color: var(--black);
  }

  // product code
  &__code {
    justify-self: end;
    font-size: rem(16);
  }

  // product state base styles. other are depended by state
  &__state {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-secondary);
    padding: rem(10);
    min-width: rem(150);
    max-width: rem(200);
    font-weight: 600;
    font-size: rem(16);
  }

  &__btn {
    min-width: 210px;

    @media screen and (max-width: $xsm) {
      width: 100%;
      min-width: unset;
      max-width: 100%;
    }
  }

  // product price wrapper, including price span and sale for amount of items
  &__price {
    display: grid;
    align-items: center;
    grid-template-columns: auto 1fr;
    gap: rem(30);

    // price span
    .price {
      display: inline-flex;
      column-gap: rem(5);
      flex-wrap: wrap;
      justify-content: center;
      justify-self: start;
      font-weight: 700;
      font-size: rem(24);

      // adding currency pseudo element
      &::after {
        content: " грн";
      }
    }

    @media screen and (max-width: $xsm) {
      grid-template-columns: 1fr;
      row-gap: rem(10);
    }
  }

  // product quantity including counter and btn
  &__quantity {
    display: grid;
    align-items: center;
    grid-template-columns: rem(100) min-content;
    gap: rem(20);

    .counter {
      height: 60px;
      box-shadow: 0 4px 17px rgb(33 185 229 / 30%);
    }

    @media screen and (max-width: $xsm) {
      grid-template-columns: rem(100) 1fr;
    }
  }

  // product description
  &__text {
    @include adaptiveValue(font-size, 18, 14, 1920, 360, 1);
  }

  // details block
  &__details {
    display: grid;
    grid-column: span 2;
    grid-template-columns: 100%;

    // firefox grid bug with slider
    overflow: hidden;
    row-gap: rem(30);

    // firefox grid bug with slider

    // details labels
    &-labels {
      display: grid;
      column-gap: rem(30);
      align-items: center;
      justify-items: start;
      grid-auto-flow: column;
      grid-template-columns: repeat(6, min-content);
      overflow-x: auto;
      padding-bottom: rem(20);
      max-width: rem(974);
      @include scrollbar(
        rgb(236, 231, 231),
        var(--text-secondary),
        12px,
        vertical,
        3px,
        var(--primary-dark)
      );

      @media screen and (max-width: $md) {
        overflow-x: scroll;
      }
    }

    @media screen and (max-width: $md) {
      grid-column: span 1;
      row-gap: rem(10);
    }
  }

  // details label style
  &__label {
    font-size: rem(18);
    white-space: nowrap;
    color: var(--black);

    &:not(:last-child) {
      border-right: 1px solid var(--bg-grey);
      padding-right: 30px;
    }

    p {
      justify-self: start;
    }
  }

  &__specs {
    @include adaptiveValue(column-gap, 130, 40, 1920, 992, 1);

    display: grid;
    grid-template-columns: repeat(2, 1fr);

    @media screen and (max-width: $md) {
      grid-template-columns: 1fr;
      row-gap: rem(10);
    }
  }

  // table styles
  &__table {
    border-collapse: collapse;
    width: 100%;

    tbody {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      row-gap: rem(10);
    }

    tr {
      display: grid;
      justify-content: space-between;
      justify-items: start;
      grid-template-columns: 1fr;
      border-bottom: 1px solid var(--bg-grey);
      padding-bottom: rem(10);

      &:nth-child(odd) {
        padding-right: 30px;
      }
    }

    th {
      font-weight: 400;
      font-size: rem(16);
      text-align: left;
      color: var(--text);
    }
  }

  &__descr {
    max-width: rem(800);

    &-item {
      display: flex;
      column-gap: rem(20);
      border: 1px solid var(--bg-grey);
      border-bottom: none;

      &:last-of-type {
        border-bottom: 1px solid var(--bg-grey);
      }

      @media screen and (max-width: $xsm) {
        flex-direction: column;
      }
    }

    &-info {
      @include adaptiveValue(padding-top, 30, 10, 1920, 360, 1);
      @include adaptiveValue(padding-right, 30, 10, 1920, 360, 1);
      @include adaptiveValue(padding-left, 30, 10, 1920, 360, 1);
      @include adaptiveValue(padding-bottom, 30, 10, 1920, 360, 1);

      flex: 0 1 70%;

      p {
        max-width: rem(450);
        font-size: 1rem;
      }
    }

    &-img {
      flex: 0 1 30%;
      border-left: 1px solid var(--bg-grey);
      padding-bottom: 20%;

      img {
        object-fit: contain;
      }

      @media screen and (max-width: $xsm) {
        border-top: 1px solid var(--bg-grey);
        border-left: none;
        padding-bottom: 40%;
      }
    }
  }
}

// using certain styles that depends on item stat

// if item is in stock
[data-availability="inStock"] {
  .product__state {
    border: 1px solid var(--text-secondary);
    box-shadow: 0 2px 10px rgb(95 220 255 / 65.8%);
    color: var(--text-secondary);
    background-color: var(--primary);
  }
}

// if item is out of stock
[data-availability="outOfStock"] {
  .product__btn,
  .counter {
    opacity: 0.4;
    pointer-events: none;
  }

  .product__state {
    border: 1px solid rgb(241 29 29 / 47.9%);
    box-shadow: 0 2px 10px rgb(241 29 29 / 47.9%);
    background-color: rgb(247 225 225);
  }
}

// if item is currently waiting
[data-availability="waitingForStock"] {
  .product__btn,
  .counter {
    opacity: 0.4;
    pointer-events: none;
  }

  .product__state {
    border: 1px solid rgb(250 170 49 / 47.9%);
    box-shadow: 0 2px 10px rgb(255 202 103 / 47.9%);
    background-color: rgb(247 219 169 / 47.9%);
  }
}
